# Классы и структуры в системе общих типов платформы .NET. Типы ссылок, типы значений. Фундаментальные механизмы объектно-ориентированного программирования.


### **Классы и структуры в системе общих типов платформы .NET**  
В платформе .NET классы и структуры являются ключевыми конструкциями для определения пользовательских типов. Они различаются своим поведением, использованием и местом хранения данных.

---

#### **Классы**  
- **Тип**: Ссылочный (Reference Type).  
- **Хранение данных**: Объекты классов размещаются в управляемой куче (heap). Ссылки на них хранятся в стеке.  
- **Особенности**:
  1. Поддерживают наследование.
  2. Могут содержать методы, свойства, конструкторы, события, делегаты.
  3. Имеют деструкторы для освобождения ресурсов.  
  4. Поддерживают работу с null, так как являются ссылочными типами.  
- **Пример**:
  ```csharp
  public class Person
  {
      public string Name { get; set; }
      public int Age { get; set; }
  }
  ```

---

#### **Структуры**  
- **Тип**: Значимый (Value Type).  
- **Хранение данных**: Структуры размещаются в стеке, их данные копируются при передаче.  
- **Особенности**:
  1. Не поддерживают наследование (но реализуют интерфейсы).
  2. Легковесны и обычно используются для небольших данных.
  3. Всегда имеют неявный конструктор без параметров.
  4. Не могут содержать деструкторы.  
- **Пример**:
  ```csharp
  public struct Point
  {
      public int X { get; set; }
      public int Y { get; set; }
  }
  ```

---

### **Типы ссылок и типы значений**
#### **Типы ссылок (Reference Types)**  
- Содержат ссылку на адрес в памяти, где хранятся данные.  
- При передаче в метод передается ссылка на объект, а не сам объект.  
- Типы: `class`, `string`, массивы, делегаты, интерфейсы.  

**Пример**:  
```csharp
string text = "Hello";
string copy = text; // Обе переменные указывают на один и тот же объект.
```

#### **Типы значений (Value Types)**  
- Содержат непосредственно данные.  
- При передаче в метод копируются.  
- Типы: примитивы (`int`, `bool`), `struct`, `enum`.  

**Пример**:  
```csharp
int a = 10;
int b = a; // Создается копия значения.
```

---

### **Фундаментальные механизмы объектно-ориентированного программирования (ООП)**  

1. **Инкапсуляция**  
   - Скрытие реализации объекта от внешнего мира.  
   - Управление доступом к данным через свойства и методы.  
   - Пример:
     ```csharp
     public class Account
     {
         private decimal balance;
         public decimal Balance => balance; // Только для чтения.

         public void Deposit(decimal amount)
         {
             if (amount > 0) balance += amount;
         }
     }
     ```

2. **Наследование**  
   - Позволяет одному классу (потомку) унаследовать свойства и методы другого класса (родителя).  
   - Пример:
     ```csharp
     public class Animal
     {
         public void Speak() => Console.WriteLine("Animal speaks");
     }

     public class Dog : Animal
     {
         public void Bark() => Console.WriteLine("Dog barks");
     }
     ```

3. **Полиморфизм**  
   - Способность методов работать с объектами разных типов через базовый интерфейс.  
   - Пример:
     ```csharp
     public class Shape
     {
         public virtual void Draw() => Console.WriteLine("Drawing a shape");
     }

     public class Circle : Shape
     {
         public override void Draw() => Console.WriteLine("Drawing a circle");
     }
     ```

4. **Абстракция**  
   - Выделение ключевых аспектов сущности, игнорируя незначительные детали.  
   - Пример:
     ```csharp
     public abstract class Vehicle
     {
         public abstract void Move();
     }

     public class Car : Vehicle
     {
         public override void Move() => Console.WriteLine("Car is moving");
     }
     ```

---

### **Заключение**
Классы и структуры являются основой для создания пользовательских типов в .NET. Типы значений хранят данные напрямую, тогда как типы ссылок работают с указателями на данные. ООП предоставляет мощные механизмы для создания гибких и масштабируемых приложений, таких как инкапсуляция, наследование, полиморфизм и абстракция.