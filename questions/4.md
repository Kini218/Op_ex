# Конструкторы экземпляров и статические конструкторы. Статические классы. Конструкторы и наследование. Иерархия классов. Реализация наследования классов. Доступ к членам базового класса из класса-наследника.
### **Конструкторы экземпляров и статические конструкторы**

#### **Конструкторы экземпляров**
- Вызываются при создании объекта с помощью ключевого слова `new`.
- Инициализируют поля и свойства объекта.
- Могут быть перегружены (несколько вариантов с разными параметрами).

Пример:
```csharp
public class Person
{
    public string Name;
    public int Age;

    public Person(string name, int age) // Конструктор экземпляра
    {
        Name = name;
        Age = age;
    }
}
Person p = new Person("Alice", 25); // Вызывается конструктор
```

#### **Статические конструкторы**
- Вызываются **один раз** перед первым использованием класса (либо его статического члена, либо создания экземпляра).
- Не принимают параметров и не имеют модификаторов доступа.
- Используются для инициализации статических полей или настройки окружения.

Пример:
```csharp
public class MyClass
{
    public static int Counter;

    static MyClass() // Статический конструктор
    {
        Counter = 0;
        Console.WriteLine("Static constructor called");
    }
}
```

---

### **Статические классы**
- Статический класс содержит только статические члены (методы, поля, свойства).
- Нельзя создавать экземпляры статических классов.
- Используется для утилит, вспомогательных функций (например, `Math` в .NET).

Пример:
```csharp
public static class Utils
{
    public static int Add(int a, int b) => a + b;
}
int sum = Utils.Add(2, 3); // Вызов статического метода
```

---

### **Конструкторы и наследование**

#### **Особенности работы конструкторов с наследованием**
1. Конструкторы **не наследуются**, но базовый конструктор всегда вызывается из конструктора-наследника.
2. Конструктор базового класса вызывается автоматически перед выполнением конструктора производного класса, если явно не указано иное.

Пример:
```csharp
public class Base
{
    public Base()
    {
        Console.WriteLine("Base constructor");
    }
}

public class Derived : Base
{
    public Derived()
    {
        Console.WriteLine("Derived constructor");
    }
}

Derived d = new Derived();
// Вывод:
// Base constructor
// Derived constructor
```

#### **Явный вызов базового конструктора**
Для передачи параметров в конструктор базового класса используется ключевое слово `base`.

Пример:
```csharp
public class Base
{
    public Base(string message)
    {
        Console.WriteLine($"Base: {message}");
    }
}

public class Derived : Base
{
    public Derived(string message) : base(message) // Вызов конструктора Base
    {
        Console.WriteLine($"Derived: {message}");
    }
}

Derived d = new Derived("Hello");
// Вывод:
// Base: Hello
// Derived: Hello
```

---

### **Иерархия классов и реализация наследования**

#### **Иерархия классов**
- Это организация классов в виде древовидной структуры, где базовый класс выступает корнем, а производные классы — ветвями.
- В .NET все классы неявно наследуют от `System.Object`.

Пример:
```csharp
public class Animal
{
    public void Speak() => Console.WriteLine("Animal speaks");
}

public class Dog : Animal
{
    public void Bark() => Console.WriteLine("Dog barks");
}
```

#### **Реализация наследования**
1. Наследование осуществляется с помощью ключевого слова `:`.
2. Производный класс наследует все члены базового класса, кроме:
   - Приватных членов.
   - Конструкторов.

Пример:
```csharp
Dog dog = new Dog();
dog.Speak(); // Унаследованный метод
dog.Bark();  // Метод класса Dog
```

---

### **Доступ к членам базового класса из класса-наследника**

1. **Публичные члены (`public`)**:
   - Доступны везде, включая наследников.

2. **Защищенные члены (`protected`)**:
   - Доступны только внутри базового класса и его производных.

3. **Приватные члены (`private`)**:
   - Недоступны напрямую в наследниках.

Пример:
```csharp
public class Base
{
    public int PublicField;
    protected int ProtectedField;
    private int PrivateField;

    public void ShowFields()
    {
        Console.WriteLine($"Public: {PublicField}, Protected: {ProtectedField}, Private: {PrivateField}");
    }
}

public class Derived : Base
{
    public void AccessFields()
    {
        PublicField = 1;         // Доступно
        ProtectedField = 2;      // Доступно
        // PrivateField = 3;     // Ошибка: недоступно
    }
}
```

---

### **Заключение**
- Конструкторы помогают корректно инициализировать объекты.
- Статические конструкторы и классы обеспечивают удобный способ работы с общими данными.
- Наследование поддерживает повторное использование кода, позволяя производным классам получать доступ к членам базового класса.
- Контроль уровней доступа (`public`, `protected`, `private`) помогает организовать и защищать данные в сложных иерархиях.